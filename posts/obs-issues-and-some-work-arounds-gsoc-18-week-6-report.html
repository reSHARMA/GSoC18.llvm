<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Does it shine from Mars ? | OBS issues and some work arounds (GSoC'18 week 6 report)</title>
  <meta name="description" content="Summary of work done in week 6">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="OBS issues and some work arounds (GSoC&#39;18 week 6 report)">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.reshabh.me/posts/obs-issues-and-some-work-arounds-gsoc-18-week-6-report">
  <meta property="og:description" content="Summary of work done in week 6">
  <meta property="og:site_name" content="Does it shine from Mars ?">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="https://www.reshabh.me/posts/obs-issues-and-some-work-arounds-gsoc-18-week-6-report">
  <meta name="twitter:title" content="OBS issues and some work arounds (GSoC&#39;18 week 6 report)">
  <meta name="twitter:description" content="Summary of work done in week 6">

  
    <meta property="og:image" content="https://www.reshabh.me/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
    <meta name="twitter:image" content="https://www.reshabh.me/assets/og-image-ee46bbc61b334e821e81534b1fd43f3fee6f020ec174b3c2114445695fd48c01.jpg">
  

  <link href="../feed.xml" type="application/rss+xml" rel="alternate" title="Does it shine from Mars ? Last 10 blog posts" />

  

  
    <link rel="icon" type="image/x-icon" href="../assets/favicon-light-a98c41efc5ed9fcc06ac664c9e2f7a9b3c3b2e0a52357d221fe382f6f4abc8fc.ico">
    <link rel="apple-touch-icon" href="../assets/apple-touch-icon-light-87d1f2a3a19b1500e5c1626a0492025ca5f7f97d24540dc5900288e92112925a.png">
    <link rel="stylesheet" type="text/css" href="../assets/light-66f45f496d3d18e5d0be0a1c4197083526ac584c945d0ef492f7375867f3b191.css">
  
</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="../index.html" class="header-logo" title="Does it shine from Mars ?">Does it shine from Mars ?</a>
  <ul class="header-links">
    
    
    
    
    
      <li>
        <a href="https://github.com/reSHARMA" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="mailto:reshabhsh@gmail.com" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="../feed.xml.html" rel="noreferrer noopener" target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
  </ul>
</nav>

        <article class="article scrollappear">
          <header class="article-header">
            <h1>OBS issues and some work arounds (GSoC'18 week 6 report)</h1>
            <p>Summary of work done in week 6</p>
            <div class="article-list-footer">
              <span class="article-list-date">
                June 24, 2018
              </span>
              <span class="article-list-divider">-</span>
              <span class="article-list-minutes">
                
                
                  2 minute read
                
              </span>
              <span class="article-list-divider">-</span>
              <div class="article-list-tags">
                
                  <a href="http://www.reshabh.me/tag/WEEK-6">WEEK-6</a>
                
              </div>
            </div>
          </header>

          <div class="article-content">
            <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OBS the unforeseen trouble!
</code></pre></div></div>

<h1 id="issue-with-our-obs-instance">Issue with our OBS instance</h1>
<p>Week 5 ended in  hopes that we can start building on our OBS instance from this week.
The remaining tasks were the creation of Download on Demand repositories (one of the feature of OBS).</p>

<h2 id="we-faced-two-issues">We faced two issues:</h2>

<ul>
  <li>The project configuration used in the openSUSE OBS reference server were of no good to us and me need to either modify them or find a way around.</li>
  <li>During the testing of DOD repos, I found that the build targets are neither detected nor the build were triggered.</li>
</ul>

<p>Though even if we comprimise on the first issue, the second one can not be ignored, without getting it right we can’t build anything on our OBS instance.</p>

<p>In my investigation I could not detect the cause, all things seem to work fine, no error in any log.</p>

<p>Issue #2 drained all my time.</p>

<h2 id="some-post-build-stuff">Some post build stuff</h2>

<p>As I was also gathering some proof of concepts for the the things that we need to do after getting OBS installation right.
After build other than deb three things are of importance to us.</p>

<ol>
  <li>Code coverage report</li>
  <li>Coverity report</li>
  <li>Scan build report</li>
</ol>

<h3 id="tentative-obs-flow-for-these">Tentative OBS flow for these</h3>

<p>In the debian/rules file we change DEB_BUILD_OPTIONS to codecoverage, coverity, scan-build for the respective report
We generate tar balls from debain/orig-tar.sh
and then generate dsc and xz files
These are pushed to OBS (bz2 xz dsc)</p>

<p>Other than code coverage report both other have dependencies which are not satisfied in the debian/control
The possible work around is to get them installed on every worker during set up using salt state files as these dependencies are small it won’t be a performance overhead.</p>

<p>These reports are then need to be sent to the OTHER/ directory.
After build using post build hooks we can easily manipulate these reports as they are done now.</p>

<h2 id="obs-is-still-not-in-a-usable-form-and-next-week-could-give-some-suprises-might-be-positive--or-negative-">OBS is still not in a usable form and next week could give some suprises might be positive :) or negative :(</h2>


          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=OBS+issues+and+some+work+arounds+(GSoC'18+week+6+report)%20-%20https://www.reshabh.me/posts/obs-issues-and-some-work-arounds-gsoc-18-week-6-report" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.reshabh.me/posts/obs-issues-and-some-work-arounds-gsoc-18-week-6-report" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
            <a href="https://plus.google.com/share?url=https://www.reshabh.me/posts/obs-issues-and-some-work-arounds-gsoc-18-week-6-report" title="Share on Google+" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 128 128"><path d="M40.7 55.9v16.1c0 0 15.6 0 22 0C59.2 82.5 53.8 88.2 40.7 88.2c-13.3 0-23.7-10.8-23.7-24.2s10.4-24.2 23.7-24.2c7.1 0 11.6 2.5 15.8 5.9 3.3-3.3 3.1-3.8 11.6-11.9 -7.2-6.6-16.8-10.6-27.4-10.6C18.2 23.3 0 41.5 0 64c0 22.5 18.2 40.7 40.7 40.7 33.6 0 41.8-29.3 39-48.8H40.7zM113.9 56.7V42.6h-10.1v14.1H89.4v10.1h14.5v14.5h10.1V66.8H128V56.7H113.9z"/></svg>
            </a>
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script src="https://www-reshabh-me.disqus.com/embed.js" async defer></script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
          
        </article>
        <footer class="footer scrollappear">
  <p>
    Made with 
    <a href="https://github.com/nielsenramon/chalk" rel="noreferrer noopener" target="_blank" title="Download Chalk"> Chalk</a>.
  </p>
</footer>

      </div>
    </div>
  </main>
  

<script src="../assets/vendor-fc473e608b0b6ac860d7cf928f4599e674f10e478cae7f4122bc51ccf885cbe8.js" type="text/javascript"></script>


  <script src="../assets/webfonts-e3010885de8c083c4b2935d463b1649e8796191a66a1b43bb87ef04bbcce420d.js" type="text/javascript"></script>



  <script src="../assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="../assets/application-6542ce1f4b08c8bb3dedf929d13653238a86988e0e972326e4e1f7875b1fe49f.js" type="text/javascript"></script>

</body>
</html>
